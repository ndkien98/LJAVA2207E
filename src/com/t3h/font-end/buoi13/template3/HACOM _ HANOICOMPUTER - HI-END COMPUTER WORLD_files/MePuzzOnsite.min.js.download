var ViteexOnsite=function(){var e="https://api.mepuzz.com/v1";function t(t,c,r){let i=document.getElementById(`viteex-btn-submit-${t}`),a=!0;i&&i.addEventListener("click",function(){if("false"==i.getAttribute("submited")){let i,d=document.getElementById(`contact-name-${t}`),s=document.getElementById(`contact-phone-${t}`),l=document.getElementById(`contact-email-${t}`),u=document.getElementById(`contact-address-${t}`),m=document.getElementById(`contact-text-${t}`),g=document.getElementById(`contact-textarea-${t}`),h=document.getElementById(`contact-select-${t}`),f=document.getElementById(`contact-radio-${t}`),y=document.getElementById(`contact-checkbox-${t}`);d&&void 0!==d.value&&"true"==d.getAttribute("is-required")&&(i={checkName:n(`contact-name-${t}`,`err_name-${t}`,"en"===c?"You have not entered your full name.":"Bạn chưa nhập họ tên.")}),s&&void 0!==s.value&&"true"==s.getAttribute("is-required")&&(i={...i,checkPhone:function(e,t,n){let o=document.getElementById(e),c=new RegExp(/((09|03|07|08|05)+([0-9]{8})\b)/g);if(o&&""===o.value)return document.getElementById(t).innerHTML="en"===n?"You did not enter a phone number.":"Bạn chưa nhập số điện thoại.",!1;if(o&&!c.test(o.value))return document.getElementById(t).innerHTML="en"===n?"Your phone number is not in the correct format.":"Số điện thoại của bạn không đúng định dạng.",!1;return document.getElementById(t).innerHTML="",!0}(`contact-phone-${t}`,`err_phone-${t}`,c)}),l&&void 0!==l.value&&"true"==l.getAttribute("is-required")&&(i={...i,checkEmail:function(e,t,n){let o=document.getElementById(e);if(o&&""===o.value)return document.getElementById(t).innerHTML="en"===n?"You have not entered your email yet.":"Bạn chưa nhập email.",!1;if(o&&!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o.value))return document.getElementById(t).innerHTML="en"===n?"Your email is not in the correct format.":"Email của bạn không đúng định dạng.",!1;return document.getElementById(t).innerHTML="",!0}(`contact-email-${t}`,`err_email-${t}`,c)}),u&&void 0!==u.value&&"true"==u.getAttribute("is-required")&&(i={...i,checkAddress:n(`contact-address-${t}`,`err_address-${t}`,"en"===c?"You do not enter an address.":"Bạn chưa nhập địa chỉ.")}),m&&void 0!==m.value&&"true"==m.getAttribute("is-required")&&(i={...i,checkText:n(`contact-text-${t}`,`err_text-${t}`,!1,c)}),g&&void 0!==g.value&&"true"==g.getAttribute("is-required")&&(i={...i,checkTextarea:n(`contact-textarea-${t}`,`err_textarea-${t}`,!1,c)}),h&&void 0!==h.value&&"true"==h.getAttribute("is-required")&&(i={...i,checkSelect:o(t,`contact-select-${t}`,`err_select-${t}`,!1,c)}),f&&"true"==f.getAttribute("is-required")&&(i={...i,checkRadio:o(t,`contact-radio-${t}`,`err_radio-${t}`,!1,c)}),y&&"true"==y.getAttribute("is-required")&&(i={...i,checkCheckbox:o(t,`contact-checkbox-${t}`,`err_checkbox-${t}`,!1,c)});let _=!0;for(item in i)if(!i[item]){_=!1;break}if(_&&a){a=!1;let n=document.getElementById(`viteex_onsite_form_submit-${t}`);const o=new URLSearchParams(new FormData(n));fetch(e+"/form/submit",{method:"POST",body:o}).then(e=>e.json()).then(function(e){0===e.error?(e.sub_id&&e.sub_id.length>0&&"null"!=e.sub_id&&window.localStorage.setItem("mepuzzId",e.sub_id),document.getElementsByClassName(`viteex_onsite_form-${t}`)[0].style.visibility="hidden",r?window.location.href=r:document.getElementsByClassName(`viteex_onsite_form_message-${t}`)[0].style.display="block"):console.log(e.message)}).catch(e=>{console.error("Error:",e)})}}})}function n(e,t,n=!1,o){let c=document.getElementById(e);return c&&""===c.value?(document.getElementById(t).innerHTML=n||("en"===o?"You have not entered information here.":"Bạn chưa nhập thông tin vào đây."),!1):(document.getElementById(t).innerHTML="",!0)}function o(e,t,n,o=!1,c){let r=document.getElementById(t);return t!=`contact-radio-${e}`&&t!=`contact-checkbox-${e}`||0!=r.getAttribute("data-check")?t==`contact-select-${e}`&&""===r.value?(document.getElementById(n).innerHTML=o||("en"===c?"You have not selected information.":"Bạn chưa chọn thông tin."),!1):(document.getElementById(n).innerHTML="",!0):(document.getElementById(n).innerHTML=o||("en"===c?"You have not selected information.":"Bạn chưa chọn thông tin."),!1)}function c(e,t){let n=e.offsetWidth,o=document.getElementById(`viteexSuggestsList_${t}`),c=document.getElementById(`viteexArrowLeft_${t}`),r=document.getElementById(`viteexArrowRight_${t}`),i=document.getElementsByClassName(`viteex__suggests__item-${t}`)[0].offsetWidth,a=document.querySelectorAll(`[viteex-data-target='card-${t}']`).length,d=i,s=0;n>=i*a&&(c.style.display="none",r.style.display="none");let l=Math.floor(n/i),u=n-l*i;c.addEventListener("click",function(){s>0&&(d-=i,o.style.transform=`translateX(-${d}px)`,s--)}),r.addEventListener("click",function(){s>0&&(d+=i),0==s&&(d=i),s>=a-l?(o.style.transform="translateX(0px)",d=i,s=0):(o.style.transform=s==a-l-1?`translateX(-${d-u}px)`:`translateX(-${d}px)`,s++)})}function r(e){var t=Date.parse(e)-Date.parse(new Date),n=Math.floor(t/1e3%60),o=Math.floor(t/1e3/60%60),c=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:c,minutes:o,seconds:n}}function i(e){var t=document.getElementById(`count_down-${e}`).value,n=1e3*(t=parseInt(t))-(new Date).getTime(),o=Math.round(n/1e3),c=new Date(Date.parse(new Date)+1e3*o);return o<86400&&(document.getElementsByClassName("viteex__bn__item-"+e)[0].style.display="none"),o<3600&&(document.getElementsByClassName("viteex__bn__item-"+e)[1].style.display="none"),c}function a(e,t){const n=[{},{}];if(!["d","h","m","s"].includes(e))return n;const o=document.querySelector(`.flip-clock-${e}-${t}`);if(!o)return n;let c;return(c=n[0]).digit=o.querySelector(".digit-left"),c.card=c.digit.querySelector(".viteex__bn_card"),c.cardFaces=c.card.querySelectorAll(".card-face"),c.cardFaceA=c.cardFaces[0],c.cardFaceB=c.cardFaces[1],(c=n[1]).digit=o.querySelector(".digit-right"),c.card=c.digit.querySelector(".viteex__bn_card"),c.cardFaces=c.card.querySelectorAll(".card-face"),c.cardFaceA=c.cardFaces[0],c.cardFaceB=c.cardFaces[1],n}function d(e,t){var n=r(t);0===n.days&&0===n.hours&&0===n.minutes&&0===n.seconds&&clearInterval(loopInterval),n.days=n.days<10?`0${n.days}`:`${n.days}`,n.hours=n.hours<10?`0${n.hours}`:`${n.hours}`,n.minutes=n.minutes<10?`0${n.minutes}`:`${n.minutes}`,n.seconds=n.seconds<10?`0${n.seconds}`:`${n.seconds}`,n.days0=n.days[0],n.days1=n.days[1],n.hours0=n.hours[0],n.hours1=n.hours[1],n.minutes0=n.minutes[0],n.minutes1=n.minutes[1],n.seconds0=n.seconds[0],n.seconds1=n.seconds[1];for(const t of Object.keys(e))for(const o of["0","1"]){const c=n[`${t}${o}`];let r=c-1;"days"===t&&("0"===o&&(r=r),"1"===o&&(r=-1===r?"9":`${r}`)),"hours"===t&&("0"===o&&(r=-1===r?"2":`${r}`),"1"===o&&("1"===n.hours0||"2"===n.hours0?r=-1===r?"9":`${r}`:"0"===n.hours0&&(r=-1===r?"3":`${r}`))),"minutes"===t&&("0"===o&&(r=-1===r?"5":`${r}`),"1"===o&&(r=-1===r?"9":`${r}`)),"seconds"===t&&("0"===o&&(r=-1===r?"5":`${r}`),"1"===o&&(r=-1===r?"9":`${r}`));const i=e[t][o];i&&i.digit&&(i.digit.dataset.digitBefore?i.digit.dataset.digitBefore!==c&&(i.card.addEventListener("transitionend",function(){i.digit.dataset.digitBefore=c,i.cardFaceA.textContent=i.digit.dataset.digitBefore;const e=i.card.cloneNode(!0);e.classList.remove("flipped"),i.digit.replaceChild(e,i.card),i.card=e,i.cardFaces=i.card.querySelectorAll(".card-face"),i.cardFaceA=i.cardFaces[0],i.cardFaceB=i.cardFaces[1],i.digit.dataset.digitAfter=r,i.cardFaceB.textContent=i.digit.dataset.digitAfter},{once:!0}),i.card.classList.contains("flipped")||i.card.classList.add("flipped")):(i.digit.dataset.digitBefore=c,i.cardFaceA.textContent=i.digit.dataset.digitBefore,i.digit.dataset.digitAfter=r,i.cardFaceB.textContent=i.digit.dataset.digitAfter))}}function s(e){if(e.banners){let n=e.banners.configs;bannerStaticArray=n,localStorage.setItem("bannerStaticArray",JSON.stringify(bannerStaticArray)),localStorage.setItem("bannerStaticArray_date",function(e){let t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate();return 1===n.toString().length&&(n="0"+n),1===o.toString().length&&(o="0"+o),`${t}-${n}-${o} 23:59:59`}(new Date)),n&&n.forEach(e=>{let n=document.getElementById(`viteex_onsite_form_submit-${e.id}`);if(n){let o=n.getAttribute("data-language");void 0===o&&(o="vi"),t(e.id,o,e.redirect_url_after_submit),function(e){var t=document.querySelectorAll(`[data-type=checkbox-${e}]`);if(t&&t.length>0)for(let n=0;n<t.length;n++)t[n].addEventListener("click",function(){let o=parseInt(document.getElementById(`contact-checkbox-${e}`).getAttribute("data-check"));t[n].checked?document.getElementById(`contact-checkbox-${e}`).setAttribute("data-check",o+1):document.getElementById(`contact-checkbox-${e}`).setAttribute("data-check",o-1)})}(e.id),function(e){var t=document.querySelectorAll(`[data-type=radio-${e}]`);if(t&&t.length>0)for(let n=0;n<t.length;n++)t[n].addEventListener("click",function(){let o=parseInt(document.getElementById(`contact-radio-${e}`).getAttribute("data-check"));t[n].checked&&0==o&&document.getElementById(`contact-radio-${e}`).setAttribute("data-check",1)})}(e.id)}let o=document.getElementById(`viteexSuggestsBox_${e.id}`);if(o&&c(o,e.id),document.getElementById("viteex__bn__clockdiv-"+e.id)&&function(e,t,n){var o=document.getElementById(e),c=o.querySelector(`.days-${n}`),i=o.querySelector(`.hours-${n}`),a=o.querySelector(`.minutes-${n}`),d=o.querySelector(`.seconds-${n}`);function s(){var e=r(t);c.innerHTML=("0"+e.days).slice(-2),i.innerHTML=("0"+e.hours).slice(-2),a.innerHTML=("0"+e.minutes).slice(-2),d.innerHTML=("0"+e.seconds).slice(-2),e.total<=0&&clearInterval(l)}s();var l=setInterval(s,1e3)}(`viteex__bn__clockdiv-${e.id}`,i(e.id),e.id),document.getElementsByClassName(`viteex__bn_countdown_option_4-${e.id}`)[0]){var s={days:a("d",e.id),hours:a("h",e.id),minutes:a("m",e.id),seconds:a("s",e.id)};setInterval(function(){d(s,i(e.id))},1e3)}e.list_product_card&&e.list_product_card.length>0&&function(e,t=!1,n=7){let o;if(!1===t)return;o=t;let c,r=document.getElementById(`viteex-product-card-${e}`);if(!r||void 0===r)return;let i=["1 phút","2 phút","3 phút","5 phút","7 phút","8 phút","10 phút","12 phút","14 phút","16 phút","18 phút","20 phút","25 phút","30 phút","36 phút","38 phút","40 phút","42 phút","45 phút","50 phút","1 giờ","2 giờ","3 giờ"];var a;setTimeout(function(){c=Math.floor(Math.random()*o.length),r.innerHTML=o[c];var e=r.getElementsByClassName("viteex-product-card-timeago")[0];e&&(e.innerHTML="Đã được mua cách đây 5 phút"),r.classList.add("slideUp");var t=r.getElementsByClassName("viteex-product-card-close")[0];t&&t.addEventListener("click",function(){r.remove(),clearInterval(a)}),setTimeout(function(){r.classList.remove("slideUp")},1e3*n)},1e3),a=setInterval(function(){for(var e=Math.floor(Math.random()*i.length),t=i[e],d=Math.floor(Math.random()*o.length);d==c&&o.length>1;)d=Math.floor(Math.random()*o.length);c=d;var s=o[d];r.innerHTML=s,product_card_time_ago=r.getElementsByClassName("viteex-product-card-timeago")[0],product_card_time_ago&&(product_card_time_ago.innerHTML="Đã được mua cách đây "+t),r.classList.add("slideUp"),btn_close=r.getElementsByClassName("viteex-product-card-close")[0],btn_close&&btn_close.addEventListener("click",function(){r.remove(),clearInterval(a)}),setTimeout(function(){r.classList.remove("slideUp")},1e3*n)},1e3*(n+2))}(e.id,e.list_product_card,e.time_show_between_products),document.getElementById(`mepuzz__box-tooltip-${e.id}`)&&(function(e){let t=document.getElementById(`mepuzzBtnClipboard-${e}`);t&&t.addEventListener("click",function(){let t=document.getElementById(`mepuzzCode-${e}`);if(t){t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value);let n=document.getElementById(`mepuzzTooltip-${e}`);n&&(n.innerHTML="Copied: "+t.value)}})}(e.id),function(e){let t=document.getElementById(`mepuzzBtnClipboard-${e}`);t&&t.addEventListener("mouseout",function(){let t=document.getElementById(`mepuzzTooltip-${e}`);t&&(t.innerHTML="Copy to clipboard")})}(e.id))})}if(e.suggests&&e.suggests.forEach(e=>{let t=!1,n=document.getElementById("viteex_recommendation_embed_"+e.id);if(null!=e.tag_id_or_class&&((n=document.getElementById(e.tag_id_or_class))||(n=document.getElementsByClassName(e.tag_id_or_class)[0]),n||(n=document.querySelector(e.tag_id_or_class)),t=!0),n){if(t){let t=document.createElement("div"),o=e.html;t.innerHTML=o,e.position_embed_content&&"after"==e.position_embed_content?n.after(t):n.before(t)}else n.innerHTML=e.html;let o=document.getElementById(`viteexSuggestsBox_${e.id}`);o&&c(o,e.id),mePuzz.recommentEmbedShow(e.id)}}),e.news_cards){e.news_cards.forEach(e=>{let t=!1;if(e.tag_id_or_class&&((t=document.getElementById(e.tag_id_or_class))||(t=document.getElementsByClassName(e.tag_id_or_class)[0]),t||(t=document.querySelector(e.tag_id_or_class))),t){let n=document.createElement("div"),o=e.html;n.innerHTML=o,e.position_embed_content&&"after"==e.position_embed_content?t.after(n):t.before(n),mePuzz.newsCardShow(e.id)}})}e.navigations&&e.navigations.forEach(e=>{let t=document.getElementById("mepuzz_banner_container");if(t){let n=document.createElement("div"),o=e.html;n.innerHTML=o,e.position&&1==e.position?t.before(n):e.position&&2==e.position?t.before(n):e.position&&3==e.position&&t.after(n)}})}function l(e){e}return l.prototype.customDisplayFrameless=function(e){return s.call(this,e)},l}();